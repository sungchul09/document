<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

<script>
    /*
    스코프
    1) 스코프란
        - 식별자가 유효한 범위
        - 스코프의 내부에서 외부 접근은 가능하지만 외부에서 내부 접근은 불가능
        - 스코프의 기본으로는 블럭 안의 변수는 블럭 안에서만 유효하다.
        - 스코프를 통해 이름 충돌 방지, 메모리 절약이 가능
        - 블록 외부에서 블록 내부 변수 참조 불가
        - 블록 외부에서 함수 내부 변수 참조 불가
        - 함수 외부에서 함수 매개변수 참조 불가
        - {}, if(){},  for(){},   function(){} ...

    2) 가비지 컬렉터
        - 오브젝트를 참조하고 있는 변수가 사라지게되면 가비지 컬렉터가 그 객체를 쓰레기를 간주하여 제거한다.
        - 글로벌 변수
            - 앱이 종료될 때 까지 계속 메모리에 유지된다
        - 스코프내 변수
            - 블럭 내부에서만 존재하고 블럭이 끝나면 자동으로 소멸된다.
    
    3) 실행 컨텍스트
        - 실행 컨텍스트 스택을 통해 코드의 실행순서와 스코프를 기억하고 있다
        - 렉시컬 환경: 각각의 블록은 렉시컬환경(내부오브젝트)를 가지고있다
        - 환경레코드: 해당 환경에 해당되는 변수 들이 들어있다
        - 외부 렉시컬 환경 참조
            - 외부 렉시컬 환경 참조는 현재 환경의 외부를 가리킨다.
            - 단, 전역 스코프의 외부 렉시컬 환경 참조는 null 을 가리킨다.
            - 스코프체인: 외부 렉시컬 환경 참조를 통해 스코프들이 연결되어 있는 것
        - 만약 환경 레코드에 해당 하는 변수가 없는데 해당 변수에 접근하게되면
            - 스코프체인을 통해 상위에 있는 부모에 변수가 존재하는지 검사해서 변수를 찾아간다
        - 메모리 절약 뿐만 아니라, 성능을 위해서라도 변수는 최대한 필요한 곳에서 정의해야한다.
    
    4) 호이스팅
        - 자바스크립트 엔진이 코드를 실행하기 전, 변수, 함수, 클래스의 선언문을 끌어 올리는 것
        - 변수의 선언과 초기화를 분리한 후, 선언만 코드 최상단으로 옮긴다.
        - var, let, const
            - 정말 재할당이 필요한 경우가 아니라면 const 사용.
            - var는 절대 사용하지말기
            - let, const 변수와 클래스는 선언만 호이스팅되고 초기화는 호이스팅 되지 않는다.
            - 초기화 전 변수에 접근하면 컴파일(빌드) 에러가 발생한다.
    
    5) var의 특징
        - 일반 코딩 방식과 어긋나서 개발하면서도 멘붕 온다
        - 코드의 가독성과 유지보수성에 좋지 않다
        - 변수 선언 키워드 없이 선언과 할당이 가능하다 (선언인지 재할당이지 구분하기 힘듬)
            - ex) test = '123';
        - 중복선언(재선언)이 가능하다
            - ex) var poo = '1';  var poo = '2';
        - 블록 레벨 스코프가 완전히 무시된다.
            - 지역변수지만 전역변수와 동일해지는 대참사 발생
        - 함수 레벨 스코프만 지원된다.
            - 함수 내부의 변수를 외부에서 접근하면 에러가 발생 (웬일이야)
    
    6) use strict
        - 기존에 조용히 무시되던 에러드를 throwing 한다
        - var x = 1;불가능
        - delete x 불가능
        - 선언하지 않은 변수 사용 불가
        - 함수 내부에서 this 사용하면 undefined
    */
</script>

</html>